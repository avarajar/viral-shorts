<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viral Shorts - Automated Content Publishing</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; color: #e0e0e0; background: #0a0a0a; line-height: 1.6; }
        .container { max-width: 800px; margin: 0 auto; padding: 0 24px; }
        header { padding: 60px 0 40px; text-align: center; border-bottom: 1px solid #1a1a1a; }
        header h1 { font-size: 2.4rem; color: #fff; margin-bottom: 12px; }
        header p { font-size: 1.1rem; color: #888; max-width: 500px; margin: 0 auto; }
        nav { display: flex; justify-content: center; gap: 24px; padding: 20px 0; border-bottom: 1px solid #1a1a1a; }
        nav a { color: #888; text-decoration: none; font-size: 0.9rem; cursor: pointer; }
        nav a:hover { color: #fff; }
        nav a.active { color: #fff; }
        section { padding: 48px 0; border-bottom: 1px solid #1a1a1a; }
        section:last-child { border-bottom: none; }
        h2 { font-size: 1.5rem; color: #fff; margin-bottom: 20px; }
        h3 { font-size: 1.1rem; color: #ccc; margin: 24px 0 10px; }
        p, li { color: #aaa; margin-bottom: 12px; }
        ul { padding-left: 20px; }
        li { margin-bottom: 8px; }
        a { color: #6ea8fe; }
        footer { padding: 32px 0; text-align: center; }
        footer p { font-size: 0.85rem; color: #555; }
        @media (max-width: 600px) { header h1 { font-size: 1.8rem; } }

        /* ─── App / Dashboard ─────────────────────────────── */
        .page { display: none; }
        .page.active { display: block; }

        .app-card {
            background: #111;
            border: 1px solid #1a1a1a;
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 24px;
        }
        .app-card h3 { margin-top: 0; color: #fff; font-size: 1.1rem; }

        .platform-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 0;
            border-bottom: 1px solid #1a1a1a;
        }
        .platform-row:last-child { border-bottom: none; }
        .platform-info { display: flex; align-items: center; gap: 14px; }
        .platform-icon {
            width: 44px;
            height: 44px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            font-weight: 700;
            color: #fff;
        }
        .platform-icon.tiktok { background: #111; border: 1px solid #333; }
        .platform-icon.youtube { background: #c4302b; }
        .platform-icon.instagram { background: linear-gradient(135deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); }
        .platform-name { font-size: 1rem; color: #fff; font-weight: 500; }
        .platform-status { font-size: 0.85rem; color: #666; }

        .btn {
            display: inline-block;
            padding: 10px 24px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            border: none;
            transition: opacity 0.2s;
        }
        .btn:hover { opacity: 0.85; }
        .btn-primary { background: #fff; color: #000; }
        .btn-success { background: #1a7f37; color: #fff; }
        .btn-outline { background: transparent; border: 1px solid #333; color: #ccc; }
        .btn-danger { background: #da3633; color: #fff; }
        .btn-sm { padding: 6px 16px; font-size: 0.8rem; }

        .status-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        .status-badge.connected { background: #1a3a2a; color: #3fb950; }
        .status-badge.disconnected { background: #2a1a1a; color: #f85149; }

        .success-box {
            background: #0d1f0d;
            border: 1px solid #1a3a2a;
            border-radius: 12px;
            padding: 32px;
            text-align: center;
            margin: 24px 0;
        }
        .success-box .check {
            width: 56px;
            height: 56px;
            background: #1a7f37;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px;
            font-size: 1.6rem;
        }
        .success-box h3 { color: #3fb950; margin-bottom: 8px; }
        .success-box p { color: #7ee787; margin-bottom: 0; }

        .error-box {
            background: #1f0d0d;
            border: 1px solid #3a1a1a;
            border-radius: 12px;
            padding: 32px;
            text-align: center;
            margin: 24px 0;
        }
        .error-box h3 { color: #f85149; margin-bottom: 8px; }
        .error-box p { color: #ffa198; margin-bottom: 0; }

        .code-display {
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 12px 16px;
            font-family: 'SFMono-Regular', Consolas, monospace;
            font-size: 0.85rem;
            color: #e6edf3;
            margin: 12px 0;
            word-break: break-all;
        }

        .features { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 24px; }
        .feature { background: #111; border: 1px solid #1a1a1a; border-radius: 8px; padding: 20px; }
        .feature h3 { margin-top: 0; color: #fff; font-size: 1rem; }
        .feature p { font-size: 0.9rem; margin-bottom: 0; }
        @media (max-width: 600px) { .features { grid-template-columns: 1fr; } }

        .stats-row {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }
        .stat-card {
            background: #111;
            border: 1px solid #1a1a1a;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }
        .stat-card .number { font-size: 1.8rem; font-weight: 700; color: #fff; }
        .stat-card .label { font-size: 0.8rem; color: #666; margin-top: 4px; }
        @media (max-width: 600px) { .stats-row { grid-template-columns: 1fr; } }

        .schedule-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid #1a1a1a;
        }
        .schedule-item:last-child { border-bottom: none; }
        .schedule-time {
            background: #161b22;
            border-radius: 6px;
            padding: 6px 12px;
            font-family: monospace;
            font-size: 0.85rem;
            color: #8b949e;
            min-width: 80px;
            text-align: center;
        }
        .schedule-desc { color: #aaa; font-size: 0.9rem; }

        .loading-spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid #333;
            border-top-color: #fff;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin-right: 8px;
            vertical-align: middle;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Viral Shorts</h1>
            <p>Automated short-form video creation and publishing platform powered by AI.</p>
        </header>

        <nav>
            <a onclick="showPage('dashboard')" id="nav-dashboard" class="active">Dashboard</a>
            <a onclick="showPage('about')" id="nav-about">About</a>
            <a onclick="showPage('privacy')" id="nav-privacy">Privacy Policy</a>
            <a onclick="showPage('terms')" id="nav-terms">Terms of Service</a>
        </nav>

        <!-- ═══ Dashboard ═══ -->
        <div id="page-dashboard" class="page active">

            <!-- OAuth callback states -->
            <div id="auth-success" style="display:none;">
                <section>
                    <div class="success-box">
                        <div class="check">&#10003;</div>
                        <h3>TikTok Account Connected</h3>
                        <p>Your TikTok account has been successfully authorized. Videos will now be published automatically.</p>
                    </div>
                    <p style="text-align:center; color:#666; font-size:0.85rem;">Authorization code received. You can close this window or continue to the dashboard.</p>
                    <div style="text-align:center; margin-top:16px;">
                        <button class="btn btn-outline btn-sm" onclick="dismissAuth()">Go to Dashboard</button>
                    </div>
                </section>
            </div>
            <div id="auth-error" style="display:none;">
                <section>
                    <div class="error-box">
                        <h3>Authorization Failed</h3>
                        <p id="auth-error-msg">An error occurred during authorization.</p>
                    </div>
                    <div style="text-align:center; margin-top:16px;">
                        <button class="btn btn-outline btn-sm" onclick="dismissAuth()">Back to Dashboard</button>
                    </div>
                </section>
            </div>

            <!-- Main dashboard (shown when no callback) -->
            <div id="dashboard-main">
                <section>
                    <h2>Publishing Dashboard</h2>

                    <div class="stats-row">
                        <div class="stat-card">
                            <div class="number">6</div>
                            <div class="label">Videos / Day</div>
                        </div>
                        <div class="stat-card">
                            <div class="number">3</div>
                            <div class="label">Platforms</div>
                        </div>
                        <div class="stat-card">
                            <div class="number">2</div>
                            <div class="label">Runs / Day</div>
                        </div>
                    </div>

                    <div class="app-card">
                        <h3>Connected Platforms</h3>

                        <div class="platform-row">
                            <div class="platform-info">
                                <div class="platform-icon tiktok">
                                    <svg width="20" height="22" viewBox="0 0 20 22" fill="none"><path d="M14.67 0H11.08V15.02C11.08 16.69 9.72 18.05 8.04 18.05C6.36 18.05 5 16.69 5 15.02C5 13.38 6.33 12.05 7.95 12V8.43C4.39 8.48 1.5 11.4 1.5 15.02C1.5 18.67 4.45 21.59 8.08 21.59C11.71 21.59 14.67 18.64 14.67 15.02V7.3C16.04 8.3 17.72 8.88 19.5 8.91V5.34C16.83 5.24 14.67 2.86 14.67 0Z" fill="white"/></svg>
                                </div>
                                <div>
                                    <div class="platform-name">TikTok</div>
                                    <div class="platform-status" id="tiktok-status-text">Not connected</div>
                                </div>
                            </div>
                            <div id="tiktok-connect-area">
                                <button class="btn btn-primary btn-sm" id="tiktok-connect-btn" onclick="connectTikTok()">Connect Account</button>
                            </div>
                        </div>

                        <div class="platform-row">
                            <div class="platform-info">
                                <div class="platform-icon youtube">YT</div>
                                <div>
                                    <div class="platform-name">YouTube</div>
                                    <div class="platform-status">Connected via n8n</div>
                                </div>
                            </div>
                            <span class="status-badge connected">Connected</span>
                        </div>

                        <div class="platform-row">
                            <div class="platform-info">
                                <div class="platform-icon instagram">IG</div>
                                <div>
                                    <div class="platform-name">Instagram Reels</div>
                                    <div class="platform-status">Connected via Graph API</div>
                                </div>
                            </div>
                            <span class="status-badge connected">Connected</span>
                        </div>
                    </div>

                    <div class="app-card">
                        <h3>Publishing Schedule</h3>
                        <div class="schedule-item">
                            <div class="schedule-time">7:00 AM</div>
                            <div class="schedule-desc">Morning run &mdash; generates and publishes 3 shorts</div>
                        </div>
                        <div class="schedule-item">
                            <div class="schedule-time">4:00 PM</div>
                            <div class="schedule-desc">Afternoon run &mdash; generates and publishes 3 shorts</div>
                        </div>
                    </div>

                    <div class="app-card">
                        <h3>How It Works</h3>
                        <div class="features">
                            <div class="feature">
                                <h3>1. AI Script</h3>
                                <p>Trending stories are adapted into engaging short-form scripts with hooks.</p>
                            </div>
                            <div class="feature">
                                <h3>2. Voice + Visuals</h3>
                                <p>Natural voice narration and AI-generated cinematic scene images.</p>
                            </div>
                            <div class="feature">
                                <h3>3. Video Assembly</h3>
                                <p>Professional vertical videos assembled with subtitles and transitions.</p>
                            </div>
                            <div class="feature">
                                <h3>4. Auto Publish</h3>
                                <p>Videos uploaded automatically to TikTok, YouTube, and Instagram.</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <!-- ═══ About ═══ -->
        <div id="page-about" class="page">
            <section>
                <h2>About Viral Shorts</h2>
                <p>Viral Shorts is an automated content creation tool that generates short-form videos and publishes them to social media platforms including YouTube, TikTok, and Instagram.</p>
                <p>The application uses AI to adapt trending stories into engaging scripts, generates natural voice narration, creates cinematic visuals, and assembles professional vertical videos — all without manual intervention.</p>

                <div class="features">
                    <div class="feature">
                        <h3>AI Script Generation</h3>
                        <p>Trending stories are adapted into engaging short-form scripts with hooks and dramatic structure.</p>
                    </div>
                    <div class="feature">
                        <h3>Voice Narration</h3>
                        <p>Natural-sounding text-to-speech narration with word-level subtitle synchronization.</p>
                    </div>
                    <div class="feature">
                        <h3>AI Visuals</h3>
                        <p>Cinematic scene images generated by AI to illustrate each story segment.</p>
                    </div>
                    <div class="feature">
                        <h3>Auto Publishing</h3>
                        <p>Finished videos are automatically uploaded to YouTube, TikTok, and Instagram with optimized metadata.</p>
                    </div>
                </div>
            </section>
        </div>

        <!-- ═══ Privacy Policy ═══ -->
        <div id="page-privacy" class="page">
            <section>
                <h2>Privacy Policy</h2>
                <p><strong>Last updated:</strong> February 11, 2026</p>

                <h3>1. Introduction</h3>
                <p>Viral Shorts ("we", "our", or "the app") respects your privacy. This Privacy Policy explains how we collect, use, and protect information when you use our application and services.</p>

                <h3>2. Information We Collect</h3>
                <p>Viral Shorts collects only the minimum information required to operate:</p>
                <ul>
                    <li><strong>OAuth Tokens:</strong> When you authorize the app to post on your behalf (e.g., TikTok, YouTube), we store authentication tokens locally on our secure server. These tokens are used solely to publish content to your account.</li>
                    <li><strong>Public Content Data:</strong> We access publicly available content from platforms like Reddit to generate video scripts. No private or personal user data is collected from these sources.</li>
                </ul>
                <p>We do <strong>not</strong> collect personal information such as names, email addresses, IP addresses, or browsing history from end users.</p>

                <h3>3. How We Use Information</h3>
                <ul>
                    <li>To authenticate with social media platforms and publish videos on the authorized account.</li>
                    <li>To generate and assemble video content automatically.</li>
                </ul>

                <h3>4. Data Storage and Security</h3>
                <p>All authentication tokens are stored locally on a private, secured server. Tokens are never shared with third parties, sold, or used for any purpose other than publishing content to the authorized account. We use industry-standard security practices to protect stored data.</p>

                <h3>5. Third-Party Services</h3>
                <p>Viral Shorts integrates with the following third-party services:</p>
                <ul>
                    <li><strong>TikTok Content Posting API:</strong> Used to publish videos to the authorized TikTok account. Subject to <a href="https://www.tiktok.com/legal/terms-of-service" target="_blank">TikTok's Terms of Service</a>.</li>
                    <li><strong>YouTube Data API:</strong> Used to upload videos. Subject to <a href="https://www.youtube.com/t/terms" target="_blank">YouTube's Terms of Service</a> and <a href="https://policies.google.com/privacy" target="_blank">Google's Privacy Policy</a>.</li>
                    <li><strong>Instagram Graph API:</strong> Used to publish Reels. Subject to <a href="https://www.facebook.com/terms.php" target="_blank">Meta's Terms of Service</a>.</li>
                </ul>

                <h3>6. Data Retention and Deletion</h3>
                <p>Authentication tokens are retained only as long as necessary for the app to function. You may revoke access at any time by removing the app's authorization from your TikTok or YouTube account settings. Upon revocation, stored tokens become invalid and are deleted from our server.</p>

                <h3>7. Children's Privacy</h3>
                <p>Viral Shorts is not intended for use by individuals under the age of 13. We do not knowingly collect information from children.</p>

                <h3>8. Changes to This Policy</h3>
                <p>We may update this Privacy Policy from time to time. Changes will be posted on this page with an updated revision date.</p>

                <h3>9. Contact</h3>
                <p>If you have questions about this Privacy Policy, you may reach us through our GitHub repository.</p>
            </section>
        </div>

        <!-- ═══ Terms of Service ═══ -->
        <div id="page-terms" class="page">
            <section>
                <h2>Terms of Service</h2>
                <p><strong>Last updated:</strong> February 11, 2026</p>

                <h3>1. Acceptance of Terms</h3>
                <p>By using Viral Shorts ("the app"), you agree to be bound by these Terms of Service. If you do not agree, do not use the app.</p>

                <h3>2. Description of Service</h3>
                <p>Viral Shorts is an automated content creation and publishing tool. It generates short-form video content using AI and publishes it to social media platforms on behalf of the authorized user.</p>

                <h3>3. User Responsibilities</h3>
                <ul>
                    <li>You must have the authority to grant the app access to your social media accounts.</li>
                    <li>You are responsible for the content published to your accounts through the app.</li>
                    <li>You agree not to use the app for any unlawful purpose or in violation of any platform's terms of service.</li>
                    <li>You must comply with all applicable laws and regulations regarding content creation and distribution.</li>
                </ul>

                <h3>4. Content and Intellectual Property</h3>
                <p>Videos generated by the app are created using AI-generated scripts, AI-generated images, and synthesized voice narration. The app does not claim ownership over content published to your accounts. You are responsible for ensuring that published content does not infringe on any third-party rights.</p>

                <h3>5. API Usage</h3>
                <p>The app accesses third-party APIs (TikTok, YouTube, Instagram) in accordance with their respective developer terms and policies. Continued use of the app is subject to the availability and terms of these third-party services.</p>

                <h3>6. Disclaimer of Warranties</h3>
                <p>The app is provided "as is" without warranty of any kind, express or implied. We do not guarantee uninterrupted service, error-free operation, or any specific results from using the app.</p>

                <h3>7. Limitation of Liability</h3>
                <p>To the fullest extent permitted by law, Viral Shorts and its operators shall not be liable for any indirect, incidental, special, or consequential damages arising from your use of the app.</p>

                <h3>8. Termination</h3>
                <p>We reserve the right to suspend or terminate access to the app at any time, for any reason, without notice.</p>

                <h3>9. Changes to Terms</h3>
                <p>We may modify these Terms of Service at any time. Continued use of the app after changes constitutes acceptance of the updated terms.</p>

                <h3>10. Contact</h3>
                <p>For questions about these Terms of Service, you may reach us through our GitHub repository.</p>
            </section>
        </div>

        <footer>
            <p>&copy; 2026 Viral Shorts. All rights reserved.</p>
        </footer>
    </div>

    <script>
        // ─── Configuration ───────────────────────────────
        const CLIENT_KEY = 'awxtj46z4b0gfvsg';
        const REDIRECT_URI = 'https://avarajar.github.io/viral-shorts/';
        const AUTH_URL = 'https://www.tiktok.com/v2/auth/authorize/';

        // ─── Page Navigation ─────────────────────────────
        function showPage(page) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
            document.getElementById('page-' + page).classList.add('active');
            document.getElementById('nav-' + page).classList.add('active');
        }

        // ─── TikTok OAuth ────────────────────────────────
        function generateState() {
            const arr = new Uint8Array(16);
            crypto.getRandomValues(arr);
            return Array.from(arr, b => b.toString(16).padStart(2, '0')).join('');
        }

        function connectTikTok() {
            const state = generateState();
            sessionStorage.setItem('tiktok_oauth_state', state);

            const params = new URLSearchParams({
                client_key: CLIENT_KEY,
                response_type: 'code',
                scope: 'video.publish',
                redirect_uri: REDIRECT_URI,
                state: state,
            });

            window.location.href = AUTH_URL + '?' + params.toString();
        }

        function disconnectTikTok() {
            sessionStorage.removeItem('tiktok_connected');
            updateTikTokUI(false);
        }

        function updateTikTokUI(connected) {
            const statusText = document.getElementById('tiktok-status-text');
            const connectArea = document.getElementById('tiktok-connect-area');

            if (connected) {
                statusText.textContent = 'Connected — auto-publishing enabled';
                connectArea.innerHTML = '<span class="status-badge connected">Connected</span> <button class="btn btn-outline btn-sm" style="margin-left:8px;" onclick="disconnectTikTok()">Disconnect</button>';
            } else {
                statusText.textContent = 'Not connected';
                connectArea.innerHTML = '<button class="btn btn-primary btn-sm" onclick="connectTikTok()">Connect Account</button>';
            }
        }

        function dismissAuth() {
            // Clean URL
            window.history.replaceState({}, '', window.location.pathname);
            document.getElementById('auth-success').style.display = 'none';
            document.getElementById('auth-error').style.display = 'none';
            document.getElementById('dashboard-main').style.display = 'block';
        }

        // ─── Handle OAuth Callback ───────────────────────
        function handleCallback() {
            const params = new URLSearchParams(window.location.search);
            const code = params.get('code');
            const error = params.get('error');
            const errorDesc = params.get('error_description');

            if (code) {
                // Success: authorization code received
                document.getElementById('dashboard-main').style.display = 'none';
                document.getElementById('auth-success').style.display = 'block';
                sessionStorage.setItem('tiktok_connected', 'true');
                updateTikTokUI(true);
                return;
            }

            if (error) {
                // Error from TikTok
                document.getElementById('dashboard-main').style.display = 'none';
                document.getElementById('auth-error').style.display = 'block';
                document.getElementById('auth-error-msg').textContent = errorDesc || error;
                return;
            }

            // No callback params — show normal dashboard
            if (sessionStorage.getItem('tiktok_connected') === 'true') {
                updateTikTokUI(true);
            }
        }

        // ─── Init ────────────────────────────────────────
        handleCallback();
    </script>
</body>
</html>
